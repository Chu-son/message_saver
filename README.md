# メッセージアーカイブツール

メッセージアプリの内容を個人的にアーカイブするためのツールです。メッセージ保存モード、画像保存モード、動画保存モードの3つのモードがあります。
基本的な動作として、PC上でメッセージアプリを起動し、スクロール操作を自動で行いながらスクリーンショットや動画を保存します。

## 動作環境

このアプリケーションは以下の環境で動作確認を行っています。

- **OS**: Ubuntu 22.04
- **エミュレーター**: Android Studio付属のエミュレーター (Pixel 7, Android 14)
- **画面録画ツール**: vokoscreen

## インストール方法

以下のコマンドを実行して必要なライブラリをインストールしてください。

```sh
pip install -r requirements.txt
```

## 使い方

以下のコマンドを実行してアプリケーションを起動します。

```sh
python main.py [オプション]
```

### オプション

- `--params_directory`: パラメータファイルのディレクトリ (デフォルト: `config`)
- `--params_filename`: パラメータファイル名 (デフォルト: `params.yaml`)
- `--save_params`, `-s`: パラメータを保存
- `--load_params`, `-l`: パラメータを読み込む
- `--photo`: 画像保存モード
- `--movie`: 動画保存モード
- `--setting`: 設定モード
- `--directory`, `-d`: スクリーンショット保存ディレクトリ (デフォルト: `images`)
- `--sub_directory`: スクリーンショット保存サブディレクトリ (デフォルト: `test`)
- `--filename_base`, `-f`: スクリーンショット保存ファイル名のベース
- `--loop_times`: テスト回数 (デフォルト: -1)
- `--reverse`: 逆方向スクロール

## 各モードの説明

### メッセージ保存モード

メッセージアプリを縦にスクロールし、画面をスクリーンショットとして保存します。

### 画像保存モード

アプリを横にスクロールし、画面をスクリーンショットとして保存します。

### 動画保存モード

アプリを横にスクロールし、画面録画アプリの再生と停止を操作して動画を保存します。

## 設定方法

設定モードを使用して、アプリケーションの設定を行います。以下のコマンドを実行して設定モードを起動します。

```sh
python main.py --setting
```

設定画面が表示されるので、必要な設定を行ってください。

## 必要なライブラリ

- pyautogui
- opencv-python
- pyyaml

## 注意事項

- 本ツールを使用して保存した内容は、必ず個人利用に留めてください。
- 本ツールを使用したことに起因する損害について、作者は一切の責任を負いません。自己責任でご使用ください。
